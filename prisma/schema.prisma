

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") 
}


/* ✴---User Model---✴ */
model User {
  id              String   @id @default(cuid())
  name            String
  email           String   @unique
  google_unique_id String?  // optional, can be null
  profile_url     String?   // optional, can be null
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  deletedAt       DateTime? // optional soft delete

  integrations   Integration[]
}


model Integration {
  id            String   @id @default(cuid())

  user_id        String
  user          User     @relation(fields: [user_id], references: [id], onDelete: Cascade)

  access_token  String
  refresh_token String?
  object_id     String?
  object_name   String?

  // Instagram specific
  insta_business_id   String?
  insta_user_name     String?
  insta_account_type  String?

  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  deletedAt     DateTime?
}
